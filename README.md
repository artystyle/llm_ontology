### Ключевые моменты  
 Система, должна включать обработку текста, извлечение концепций и отношений, а также оценку качества онтологии. Однако точные требования зависят от специфики документов и могут вызывать споры из-за сложностей с юридическим языком.  

---

### Обработка запроса  
#### Введение  
 Онтология помогает структурировать знания из документов, таких как законы, регламенты или стандарты, для улучшения поиска, анализа и понимания. На основе последних научных публикаций можно системно оценить подходы и определить требования к системе.  

#### Оценка научных публикаций  
Недавние исследования, такие как статья "Ontology Generation using Large Language Models" ([Ontology Generation using Large Language Models](https://arxiv.org/html/2503.05388v1)), показывают, что LLM могут генерировать онтологии на основе вопросов компетентности (competency questions, CQ), используя техники, такие как Memoryless CQbyCQ и Ontogenia. Другая работа, "End-to-End Ontology Learning with Large Language Models" ([End-to-End Ontology Learning with Large Language Models](https://arxiv.org/abs/2410.23584)), предлагает метод OLLM для построения таксономической основы онтологии с помощью дообучения LLM. Исследование "LLMs4OL: Large Language Models for Ontology Learning" ([LLMs4OL: Large Language Models for Ontology Learning](https://arxiv.org/abs/2307.16648)) оценивает LLM на задачах типизации терминов, обнаружения таксономий и извлечения нетаксономических отношений.  

Эти работы подчеркивают важность использования LLM для извлечения концепций и отношений, а также адаптации к различным доменам. Например, статья "Information Retrieval from Legal Documents with Ontology and Graph Embeddings Approach" ([Information Retrieval from Legal Documents with Ontology and Graph Embeddings Approach](https://link.springer.com/chapter/10.1007/978-3-031-36819-6_27)) описывает создание Legal-Onto Ontology для юридических документов, что особенно релевантно для нормативных текстов.  

#### Требования к системе  
На основе анализа публикаций, требования к системе включают:  
- **Обработка входных данных:** Система должна принимать нормативные документы в текстовом формате и обрабатывать юридический язык, включая ссылки и определения.  
- **Извлечение знаний с помощью LLM:** Использовать LLM для извлечения концепций, классификации терминов и обнаружения отношений, включая таксономические и нетаксономические связи.  
- **Генерация онтологии:** Создавать онтологию в стандартном формате, таком как OWL, с возможностью объединения фрагментов из разных документов.  
- **Оценка и контроль качества:** Включать метрики для оценки качества онтологии и предоставлять возможность ручного редактирования.  
- **Взаимодействие с пользователем:** Предоставлять интерфейс для загрузки документов, настройки параметров и визуализации онтологии, а также поддержки вопросов компетентности.  
- **Производительность и масштабируемость:** Обеспечивать эффективность обработки больших объемов данных и масштабируемость для роста числа документов.  
- **Адаптивность:** Поддерживать адаптацию к различным типам нормативных документов и интеграцию домен-специфических знаний.  
- **Интеграция и совместимость:** Позволять интеграцию с существующими системами и совместимость с инструментами, такими как Protégé.  
- **Версионирование и обновления:** Обеспечивать обновление онтологии при изменении документов.  
- **Трассируемость:** Сохранять ссылки между элементами онтологии и исходным текстом для проверки и понимания.  

Эти требования учитывают сложность юридического языка и необходимость гибкости системы.  

---

### Подробный обзор  
#### Введение в тему  
Создание системы онтологии для нормативных документов с использованием больших языковых моделей (LLM) — это задача, находящаяся на пересечении искусственного интеллекта и юридической информатики. Нормативные документы, такие как законы, регламенты и стандарты, содержат сложные структуры и формальный язык, что делает их обработку вызовом для автоматических систем. Онтология, как формальная структура, представляющая концепции и их отношения, может значительно улучшить доступ, поиск и анализ таких документов. LLM, такие как GPT-4 или Llama-3.1, демонстрируют потенциал для автоматизации извлечения знаний, но их применение требует систематической оценки последних научных публикаций.  

#### Анализ научных публикаций  
Для систематической оценки были проанализированы несколько ключевых работ, опубликованных в последние годы, особенно те, что доступны на платформе arXiv и в научных журналах.  

1. **"Ontology Generation using Large Language Models" ([Ontology Generation using Large Language Models](https://arxiv.org/html/2503.05388v1)), опубликовано 7 марта 2025 года (предположительно, предпечать):**  
   Эта работа исследует потенциал LLM для создания черновиков онтологий OWL на основе вопросов компетентности и пользовательских историй. Основной вклад — два новых метода: Memoryless CQbyCQ и Ontogenia.  
   - **Memoryless CQbyCQ:** Обрабатывает один вопрос компетентности за раз, объединяет результаты, уменьшая контекст на ~60%. Использует синтаксис Turtle, но может включать ошибки, такие как множественные домены/диапазоны.  
   - **Ontogenia:** Итеративно объединяет результаты, используя метакогнитивные подсказки и паттерны онтологического дизайна (ODPs), включая метки, комментарии и обратные отношения.  
   - Оценка проводилась на наборе данных из 10 онтологий, 100 различных CQ и 29 пользовательских историй, таких как проекты Polifonia ([Polifonia](https://polifonia-project.eu/)), Onto-DESIDE ([Onto-DESIDE](https://ontodeside.eu)), WHOW ([WHOW](https://whowproject.eu/)), IKS ([IKS](https://cordis.europa.eu/project/id/231527)) и SemanticWebCourse. Лучшие результаты показала модель OpenAI o1-preview с Ontogenia, превосходя новичков-онтологов.  
   - Метрики оценки включают пропорцию смоделированных CQ (например, 0.91 для Memoryless CQbyCQ независимо, 0.84 для Ontogenia) и структурный анализ, выявляющий избыточные элементы (например, Llama генерирует ~40% избыточных элементов). Дополнительные материалы доступны по [URL для материалов](https://github.com/dersuchendee/Onto-Generation).  

   Таблица с ключевыми метриками:  
   | Техника          | Пропорция смоделированных CQ (независимо) | Пропорция смоделированных CQ (игнорируя мелкие ошибки) | Лучшая модель |  
   |-------------------|------------------------------------------|-------------------------------------------------------|----------------|  
   | Memoryless CQbyCQ | 0.91                                     | 0.94                                                  | -              |  
   | Ontogenia         | 0.84                                     | 0.89                                                  | o1-preview     |  

2. **"End-to-End Ontology Learning with Large Language Models" ([End-to-End Ontology Learning with Large Language Models](https://arxiv.org/abs/2410.23584)), опубликовано 31 октября 2024 года:**  
   Эта работа представляет метод OLLM для построения таксономической основы онтологии с нуля, фокусируясь на целых подкомпонентах, а не на отдельных задачах. LLM дообучается с использованием кастомного регуляризатора для снижения переобучения на высокочастотных концепциях.  
   - Оценка проводится с помощью новых метрик, измеряющих семантическую и структурную схожесть с эталонной онтологией, используя глубокое обучение для расчета расстояний между графами.  
   - Метод превосходит составные подходы по задачам, производя более семантически точные онтологии при сохранении структурной целостности. Адаптируется к новым доменам, например, arXiv, с небольшим количеством примеров для обучения.  
   - Исходный код и наборы данных доступны по [URL для кода](https://github.com/andylolu2/ollm).  

3. **"LLMs4OL: Large Language Models for Ontology Learning" ([LLMs4OL: Large Language Models for Ontology Learning](https://arxiv.org/abs/2307.16648)), опубликовано 31 июля 2023 года:**  
   Предлагает подход LLMs4OL, тестирующий гипотезу о способности LLM к обучению онтологий через извлечение и структурирование знаний из текста. Оценка проводилась методом нулевого шота на 9 семьях моделей LLM.  
   - Основные задачи: типизация терминов, обнаружение таксономий, извлечение нетаксономических отношений.  
   - Оценка охватывает различные домены, включая лексикосемантические знания (WordNet), географические (GeoNames) и медицинские (UMLS).  
   - Работа включает 15 страниц основного содержания, 27 страниц общим счетом, 2 фигуры, принята для публикации на ISWC 2023.  

4. **"Information Retrieval from Legal Documents with Ontology and Graph Embeddings Approach" ([Information Retrieval from Legal Documents with Ontology and Graph Embeddings Approach](https://link.springer.com/chapter/10.1007/978-3-031-36819-6_27)), опубликовано 7 января 2023 года:**  
   Описывает метод построения Legal-Onto Ontology для юридических документов, извлекая концепции и отношения для создания графа знаний. Метод основан на обработке текстов законов, например, Закона о дорожном движении Вьетнама (Law No. 23/2008/QH12).  
   - Используется для решения семантических запросов и создания приложений для поиска законов, соответствующих практическим потребностям пользователей.  
   - Финансирование: грант VNU-HCM под номером DS2023-26-04, частично Dung V. Dang финансировался UIT под номером D1-2023-04.  

5. **"Exploring the Nexus of Large Language Models and Legal Systems: A Short Survey" ([Exploring the Nexus of Large Language Models and Legal Systems: A Short Survey](https://arxiv.org/html/2404.00990v1)), опубликовано 1 апреля 2024 года:**  
   Обзор применения LLM в юридической сфере, включая обработку текстов, предсказание решений, анализ конфиденциальности и извлечение случаев. Хотя прямое упоминание онтологий отсутствует, упоминаются интеграция логических правил и доменных знаний, например, в Lawyer LLaMA ([Lawyer LLaMA](https://github.com/AndrewZhe/lawyer-llama)) и DISC-LawLLM ([DISC-LawLLM](https://github.com/FudanDISC/DISC-LawLLM)).  
   - Упоминаются наборы данных, такие как CAIL2018 (2,6 млн уголовных дел), LeCaRD (107 запросов, 43 000 кандидатов), LeXFiles (19 млрд токенов, 11 подкорпусов).  

#### Формулировка требований  
На основе анализа публикаций, требования к системе включают следующие аспекты, отражающие возможности и вызовы, выявленные в исследованиях:  

- **Обработка входных данных:** Система должна принимать нормативные документы в текстовом формате, учитывая специфику юридического языка, такую как ссылки, определения и кросс-ссылки. Это важно для точной обработки, как показано в работах по Legal-Onto.  
- **Извлечение знаний с помощью LLM:** LLM должны использоваться для извлечения концепций, классификации терминов (типизация) и обнаружения отношений, включая таксономические (иерархии) и нетаксономические (например, "закон X изменяет закон Y"). Это соответствует задачам, описанным в LLMs4OL.  
- **Генерация онтологии:** Онтология должна создаваться в стандартном формате, таком как OWL, для обеспечения совместимости, как показано в "Ontology Generation using Large Language Models". Система должна поддерживать объединение фрагментов онтологии, используя методы, такие как Ontogenia.  
- **Оценка и контроль качества:** Необходимо внедрить метрики оценки, такие как пропорция смоделированных CQ, структурный анализ и экспертная оценка, как описано в "Ontology Generation". Также должна быть возможность ручного редактирования для улучшения качества.  
- **Взаимодействие с пользователем:** Интерфейс должен позволять загружать документы, настраивать параметры (например, выбор LLM или метода подсказок) и визуализировать онтологию. Поддержка вопросов компетентности, как в "Ontology Generation", важна для определения требований.  
- **Производительность и масштабируемость:** Система должна эффективно обрабатывать большие объемы данных, как показано в примерах с большими наборами данных (например, 325 000 документов в Legal-Onto). Дизайн должен быть масштабируемым для роста числа пользователей и документов.  
- **Адаптивность:** Система должна адаптироваться к различным доменам, как демонстрирует OLLM, с возможностью дообучения на новых данных. Это важно для работы с разными типами нормативных документов (законы, стандарты и т.д.).  
- **Интеграция и совместимость:** Система должна интегрироваться с существующими системами управления знаниями и быть совместимой с инструментами, такими как Protégé, для дальнейшего использования, как упоминается в обзорах.  
- **Версионирование и обновления:** Учитывая, что нормативные документы могут изменяться, система должна поддерживать обновление онтологии, как показано в примерах с юридическими системами.  
- **Трассируемость:** Сохранение ссылок между элементами онтологии и исходным текстом необходимо для проверки и понимания, особенно в юридическом контексте, где важна прозрачность.  

---

### Методология оценки онтологии, созданной LLM, для нормативных документов  
---

#### 1. **Определение компетентных вопросов (CQ)**  
**Цель:** Оценить, насколько онтология охватывает ключевые концепции и связи в нормативных документах.  
**Метод:**  
- Разработать CQ совместно с экспертами (юристами, регуляторами) или автоматически через NLP-анализ текстов законов. Примеры CQ:  
  - «Какие статьи регулируют защиту персональных данных?»  
  - «Какие санкции применяются за нарушение трудового кодекса?»  
**Метрика:**  
  - **Покрытие CQ** = (Количество отвеченных CQ / Общее количество CQ) × 100% .  
  - Для нормативных документов целевой порог — ≥85% (на основе данных Polifonia и Onto-DESIDE) .  

---

#### 2. **Обнаружение ошибок в онтологии**  
**Цель:** Выявить структурные и семантические ошибки.  
**Метод:**  
- Использовать инструменты автоматической проверки (OOPS!, Protégé) для обнаружения:  
  - Дублирующихся классов (например, «Сотрудник» и «Работник»).  
  - Неправильных отношений (например, «наследует» вместо «регулируется»).  
**Метрика:**  
  - **Индекс ошибок** = (Количество критических ошибок / Общее элементов) × 100%.  
  - Критический порог: <5% (на основе данных из исследования Llama) .  

---

#### 3. **Структурный анализ**  
**Цель:** Оценить логическую целостность и эффективность онтологии.  
**Метод:**  
- Рассчитать:  
  - **Глубина иерархии** (максимальный путь от корневого класса).  
  - **Плотность связей** = (Количество отношений / Количество классов).  
**Метрика:**  
  - Для юридических онтологий оптимальная глубина — 4–6 уровней, плотность — ≥1.5 .  

---

#### 4. **Семантическая оценка с использованием LLM-as-a-Judge**  
**Цель:** Проверить соответствие онтологии контексту документов.  
**Метод:**  
- Применить **G-Eval** :  
  1. Сгенерировать шаблон оценки через цепочку рассуждений (CoT).  
  2. Использовать LLM (например, GPT-4) для присвоения баллов по шкале 1–5.  
**Пример запроса:**  
```  
"Оцените, насколько класс 'ЮридическаяОтветственность' соответствует статьям УК РФ. Шаги:  
1. Извлеките все упоминания ответственности из документа.  
2. Сравните с атрибутами класса.  
3. Присвойте балл от 1 (несоответствие) до 5 (полное соответствие)."  
```  
**Метрика:**  
  - Средний балл ≥4.0 считается удовлетворительным .  

---

#### 5. **Экспертная оценка**  
**Цель:** Качественный анализ полноты и точности.  
**Метод:**  
- Анкета для экспертов с критериями:  
  - **Точность** (соответствие законам).  
  - **Полнота** (охват всех разделов документа).  
**Метрика:**  
  - **Индекс согласия экспертов** (Cohen’s κ) ≥0.7 .  

---

#### 6. **Оценка на реальных задачах**  
**Цель:** Проверить практическую полезность онтологии.  
**Метод:**  
- Тестирование в сценариях:  
  - Поиск статей по запросу («Найти все нормы о налогообложении»).  
  - Проверка соответствия документации.  
**Метрика:**  
  - **F1-Score** = 2 × (Precision × Recall) / (Precision + Recall), где:  
    - Precision = (Релевантные найденные статьи / Все найденные статьи).  
    - Recall = (Релевантные найденные статьи / Все существующие статьи).  
  - Целевой F1-Score ≥0.8 .  

---

### Формулы и пороговые значения  
| **Этап**               | **Формула/Метрика**                  | **Целевое значение** |  
|-------------------------|---------------------------------------|-----------------------|  
| Покрытие CQ            | \( \frac{\text{Отвеченные CQ}}{\text{Все CQ}} \) | ≥85%                 |  
| Индекс ошибок          | \( \frac{\text{Критические ошибки}}{\text{Элементы}} \) | <5%                  |  
| Глубина иерархии       | Максимальный путь от корня           | 4–6 уровней          |  
| Семантическая оценка   | Средний балл G-Eval                  | ≥4.0                 |  
| F1-Score               | \( 2 \times \frac{P \times R}{P + R} \) | ≥0.8                 |  

---

### Архитектура системы  
1. **Входные данные:**  
   - Онтология в формате OWL.  
   - Корпус нормативных документов.  
   - Список CQ (50–100 вопросов).  
2. **Модули:**  
   - **Детектор ошибок** (OOPS!) → выводит отчет об ошибках.  
   - **Анализатор структуры** → рассчитывает глубину и плотность.  
   - **G-Eval** → генерирует семантические баллы.  
   - **Интерфейс эксперта** → собирает качественные оценки.  
3. **Выход:**  
   - Отчет с метриками, рекомендациями и heatmap ошибок.  

---

### Пример применения  
Для онтологии «Трудовой кодекс РФ»:  
- **CQ:** 100 вопросов (85% покрыты).  
- **Ошибки:** 3 критические из 200 элементов (1.5%).  
- **Семантическая оценка:** 4.2/5.  
- **F1-Score:** 0.82.  
**Вывод:** Онтология пригодна для использования, но требует доработки по 15% непокрытых CQ.  

---

### Заключение  
Предложенная методология объединяет автоматические метрики (CQ, структурный анализ) и экспертизу, адаптированную для юридического контекста. Ключевые инновации:  
1. Использование **G-Eval** для семантической проверки .  
2. Акцент на **плотности связей** для оценки эффективности .  
3. Интеграция **F1-Score** для задач поиска .  

Для дальнейшего улучшения рекомендуется:  
- Расширить CQ через NLP-анализ документов.  
- Внедрить активное обучение для уменьшения экспертной нагрузки .


---

### Ключевые цитирования  
- [Ontology Generation using Large Language Models](https://arxiv.org/html/2503.05388v1)  
- [End-to-End Ontology Learning with Large Language Models](https://arxiv.org/abs/2410.23584)  
- [LLMs4OL: Large Language Models for Ontology Learning](https://arxiv.org/abs/2307.16648)  
- [Information Retrieval from Legal Documents with Ontology and Graph Embeddings Approach](https://link.springer.com/chapter/10.1007/978-3-031-36819-6_27)  
- [Exploring the Nexus of Large Language Models and Legal Systems: A Short Survey](https://arxiv.org/html/2404.00990v1)  
- [Polifonia project website](https://polifonia-project.eu/)  
- [Onto-DESIDE project website](https://ontodeside.eu)  
- [WHOW project website](https://whowproject.eu/)  
- [IKS project on CORDIS](https://cordis.europa.eu/project/id/231527)  
- [Lawyer LLaMA GitHub repository](https://github.com/AndrewZhe/lawyer-llama)  
- [DISC-LawLLM GitHub repository](https://github.com/FudanDISC/DISC-LawLLM)
